{% extends "base.html" %}
{% load static %}

{% block title %}Mantenciones{% endblock %}

{% block page_styles %}
<link rel="stylesheet" href="{% static 'css/maintenance.css' %}">
{% endblock %}

{% block page_content %}
<main class="maintenance-container">
    <div class="maintenance-list">
        {% for maintenance in maintenances %}
        <div class="maintenance-card">
            <div class="card-header">
                <h3>Patente: {{ maintenance.vehicle_license_plate|default:"N/A" }}</h3>
                <span class="status-badge status-{{ maintenance.estado_mantencion|lower|default:'desconocido' }}">
                    {{ maintenance.estado_mantencion|default:"Desconocido" }}
                </span>
            </div>
            <div class="card-body">
                <p><strong>Mec√°nico:</strong> {{ maintenance.mecanico_nombre_completo|default:"No asignado" }}</p>
                <p><strong>Causa:</strong> {{ maintenance.observacion|truncatewords:20|default:"Sin causa declarada" }}</p>
            </div>
            <div class="card-footer">
                <span><strong>Ingreso:</strong> {{ maintenance.fecha_ingreso }}</span>
                <span><strong>Salida:</strong> {{ maintenance.fecha_salida|default:"Pendiente" }}</span>
            </div>
        </div>
        {% empty %}
        <div class="empty-list-message">
            <p>No hay mantenciones registradas en el sistema.</p>
        </div>
        {% endfor %}
    </div>
</main>
{% endblock %}